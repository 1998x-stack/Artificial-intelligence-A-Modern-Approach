structure = {
    "1_Artificial_Intelligence": {
        "1.1_Introduction": [
            "1.1.1_What_Is_AI",
            "1.1.2_The_Foundations_of_Artificial_Intelligence",
            "1.1.3_The_History_of_Artificial_Intelligence",
            "1.1.4_The_State_of_the_Art",
            "1.1.5_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ],
        "1.2_Intelligent_Agents": [
            "1.2.1_Agents_and_Environments",
            "1.2.2_Good_Behavior:_The_Concept_of_Rationality",
            "1.2.3_The_Nature_of_Environments",
            "1.2.4_The_Structure_of_Agents",
            "1.2.5_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ]
    },
    "2_Problem-solving": {
        "2.1_Solving_Problems_by_Searching": [
            "2.1.1_Problem-Solving_Agents",
            "2.1.2_Example_Problems",
            "2.1.3_Searching_for_Solutions",
            "2.1.4_Uninformed_Search_Strategies",
            "2.1.5_Informed_(Heuristic)_Search_Strategies",
            "2.1.6_Heuristic_Functions",
            "2.1.7_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ],
        "2.2_Beyond_Classical_Search": [
            "2.2.1_Local_Search_Algorithms_and_Optimization_Problems",
            "2.2.2_Local_Search_in_Continuous_Spaces",
            "2.2.3_Searching_with_Nondeterministic_Actions",
            "2.2.4_Searching_with_Partial_Observations",
            "2.2.5_Online_Search_Agents_and_Unknown_Environments",
            "2.2.6_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ],
        "2.3_Adversarial_Search": [
            "2.3.1_Games",
            "2.3.2_Optimal_Decisions_in_Games",
            "2.3.3_Alpha–Beta_Pruning",
            "2.3.4_Imperfect_Real-Time_Decisions",
            "2.3.5_Stochastic_Games",
            "2.3.6_Partially_Observable_Games",
            "2.3.7_State-of-the-Art_Game_Programs",
            "2.3.8_Alternative_Approaches",
            "2.3.9_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ],
        "2.4_Constraint_Satisfaction_Problems": [
            "2.4.1_Defining_Constraint_Satisfaction_Problems",
            "2.4.2_Constraint_Propagation:_Inference_in_CSPs",
            "2.4.3_Backtracking_Search_for_CSPs",
            "2.4.4_Local_Search_for_CSPs",
            "2.4.5_The_Structure_of_Problems",
            "2.4.6_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ]
    },
    "3_Knowledge,_reasoning,_and_planning": {
        "3.1_Logical_Agents": [
            "3.1.1_Knowledge-Based_Agents",
            "3.1.2_The_Wumpus_World",
            "3.1.3_Logic",
            "3.1.4_Propositional_Logic:_A_Very_Simple_Logic",
            "3.1.5_Propositional_Theorem_Proving",
            "3.1.6_Effective_Propositional_Model_Checking",
            "3.1.7_Agents_Based_on_Propositional_Logic",
            "3.1.8_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ],
        "3.2_First-Order_Logic": [
            "3.2.1_Representation_Revisited",
            "3.2.2_Syntax_and_Semantics_of_First-Order_Logic",
            "3.2.3_Using_First-Order_Logic",
            "3.2.4_Knowledge_Engineering_in_First-Order_Logic",
            "3.2.5_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ],
        "3.3_Inference_in_First-Order_Logic": [
            "3.3.1_Propositional_vs._First-Order_Inference",
            "3.3.2_Unification_and_Lifting",
            "3.3.3_Forward_Chaining",
            "3.3.4_Backward_Chaining",
            "3.3.5_Resolution",
            "3.3.6_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ],
        "3.4_Classical_Planning": [
            "3.4.1_Definition_of_Classical_Planning",
            "3.4.2_Algorithms_for_Planning_as_State-Space_Search",
            "3.4.3_Planning_Graphs",
            "3.4.4_Other_Classical_Planning_Approaches",
            "3.4.5_Analysis_of_Planning_Approaches",
            "3.4.6_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ],
        "3.5_Planning_and_Acting_in_the_Real_World": [
            "3.5.1_Time,_Schedules,_and_Resources",
            "3.5.2_Hierarchical_Planning",
            "3.5.3_Planning_and_Acting_in_Nondeterministic_Domains",
            "3.5.4_Multiagent_Planning",
            "3.5.5_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ],
        "3.6_Knowledge_Representation": [
            "3.6.1_Ontological_Engineering",
            "3.6.2_Categories_and_Objects",
            "3.6.3_Events",
            "3.6.4_Mental_Events_and_Mental_Objects",
            "3.6.5_Reasoning_Systems_for_Categories",
            "3.6.6_Reasoning_with_Default_Information",
            "3.6.7_The_Internet_Shopping_World",
            "3.6.8_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ]
    },
    "4_Uncertain_knowledge_and_reasoning": {
        "4.1_Quantifying_Uncertainty": [
            "4.1.1_Acting_under_Uncertainty",
            "4.1.2_Basic_Probability_Notation",
            "4.1.3_Inference_Using_Full_Joint_Distributions",
            "4.1.4_Independence",
            "4.1.5_Bayes'_Rule_and_Its_Use",
            "4.1.6_The_Wumpus_World_Revisited",
            "4.1.7_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ],
        "4.2_Probabilistic_Reasoning": [
            "4.2.1_Representing_Knowledge_in_an_Uncertain_Domain",
            "4.2.2_The_Semantics_of_Bayesian_Networks",
            "4.2.3_Efficient_Representation_of_Conditional_Distributions",
            "4.2.4_Exact_Inference_in_Bayesian_Networks",
            "4.2.5_Approximate_Inference_in_Bayesian_Networks",
            "4.2.6_Relational_and_First-Order_Probability_Models",
            "4.2.7_Other_Approaches_to_Uncertain_Reasoning",
            "4.2.8_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ],
        "4.3_Probabilistic_Reasoning_over_Time": [
            "4.3.1_Time_and_Uncertainty",
            "4.3.2_Inference_in_Temporal_Models",
            "4.3.3_Hidden_Markov_Models",
            "4.3.4_Kalman_Filters",
            "4.3.5_Dynamic_Bayesian_Networks",
            "4.3.6_Keeping_Track_of_Many_Objects",
            "4.3.7_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ]
    },
    "5_Learning": {
        "5.1_Learning_from_Examples": [
            "5.1.1_Forms_of_Learning",
            "5.1.2_Supervised_Learning",
            "5.1.3_Learning_Decision_Trees",
            "5.1.4_Evaluating_and_Choosing_the_Best_Hypothesis",
            "5.1.5_Theory_of_Learning",
            "5.1.6_Model_Selection",
            "5.1.7_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ],
        "5.2_Knowledge_in_Learning": [
            "5.2.1_A_Logically_Motivated_Learning_Agent",
            "5.2.2_Explanation-Based_Learning",
            "5.2.3_Learning_Using_Relevant_Information",
            "5.2.4_Inductive_Logic_Programming",
            "5.2.5_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ],
        "5.3_Statistical_Learning_Methods": [
            "5.3.1_Learning_with_Complete_Data",
            "5.3.2_Learning_with_Hidden_Variables:_The_EM_Algorithm",
            "5.3.3_Instance-Based_Learning",
            "5.3.4_Neural_Networks",
            "5.3.5_Deep_Learning",
            "5.3.6_Reinforcement_Learning",
            "5.3.7_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ],
        "5.4_Combining_Learning_Methods": [
            "5.4.1_Ensemble_Learning",
            "5.4.2_Transfer_Learning",
            "5.4.3_Multi-Task_Learning",
            "5.4.4_Lifelong_Learning",
            "5.4.5_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ]
    },
    "6_Communicating,_perceiving,_and_acting": {
        "6.1_Natural_Language_Processing": [
            "6.1.1_Language_Models",
            "6.1.2_Text_Classification",
            "6.1.3_Information_Retrieval",
            "6.1.4_Information_Extraction",
            "6.1.5_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ],
        "6.2_Natural_Language_for_Communication": [
            "6.2.1_Phrase_Structure_Grammars",
            "6.2.2_Syntactic_Analysis_(Parsing)",
            "6.2.3_Augmented_Grammars_and_Semantic_Interpretation",
            "6.2.4_Machine_Translation",
            "6.2.5_Speech_Recognition",
            "6.2.6_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ],
        "6.3_Perception": [
            "6.3.1_Image_Formation",
            "6.3.2_Early_Image-Processing_Operations",
            "6.3.3_Object_Recognition_by_Appearance",
            "6.3.4_Reconstructing_the_3D_World",
            "6.3.5_Object_Recognition_from_Structural_Information",
            "6.3.6_Using_Vision",
            "6.3.7_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ]
    },
    "7_Robotics": {
        "7.1_Robot_Hardware": [
            "7.1.1_Sensors",
            "7.1.2_Effectors",
            "7.1.3_Robotic_Perception",
            "7.1.4_Probabilistic_Filtering",
            "7.1.5_Robot_Motion_Planning",
            "7.1.6_Configuration_Space",
            "7.1.7_Potential_Field_Techniques",
            "7.1.8_Robot_Controller_Design",
            "7.1.9_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ],
        "7.2_Robotic_Software_Architecture": [
            "7.2.1_Three-Layer_Architecture",
            "7.2.2_Subsumption_Architecture",
            "7.2.3_Behavior-Based_Robotics",
            "7.2.4_Multi-Robot_Systems",
            "7.2.5_Concurrent_Robot_Control_Languages",
            "7.2.6_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ],
        "7.3_Robotics_Competitions": [
            "7.3.1_AAAI_Robot_Competition",
            "7.3.2_Robocup",
            "7.3.3_DARPA_Grand_Challenge",
            "7.3.4_DARPA_Urban_Challenge",
            "7.3.5_Research_and_Development_in_Robotics",
            "7.3.6_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ]
    },
    "8_Conclusions": {
        "8.1_Philosophical_Foundations": [
            "8.1.1_Weak_AI:_Can_Machines_Act_Intelligently?",
            "8.1.2_Strong_AI:_Can_Machines_Really_Think?",
            "8.1.3_The_Ethics_and_Risks_of_Developing_Artificial_Intelligence",
            "8.1.4_Summary,_Bibliographical_and_Historical_Notes,_Exercises"
        ],
        "8.2_AI:_The_Present_and_Future": [
            "8.2.1_Agent_Components",
            "8.2.2_Agent_Architectures",
            "8.2.3_Are_We_Going_in_the_Right_Direction?",
            "8.2.4_What_If_AI_Does_Succeed?"
        ],
        "8.3_Mathematical_background": [
            "8.3.1_Complexity_Analysis_and_O()_Notation",
            "8.3.2_Vectors,_Matrices,_and_Linear_Algebra",
            "8.3.3_Probability_Distributions"
        ],
        "8.4_Notes_on_Languages_and_Algorithms": [
            "8.4.1_Defining_Languages_with_Backus–Naur_Form_(BNF)",
            "8.4.2_Describing_Algorithms_with_Pseudocode",
            "8.4.3_Online_Help"
        ]
    },
}



import os
from typing import Dict, Any

def create_directories_and_files(
        base_path: str, 
        structure: Dict[str, Any], 
        readme_file, 
        parent_path: str = "", 
        level: int = 1
    ):
    heading = "#" * level

    for key, value in structure.items():
        current_path = os.path.join(base_path, key.replace(" ", "_").replace("/", "_").replace("-", "_"))

        # 创建目录
        os.makedirs(current_path, exist_ok=True)

        # 在README中添加章节标题
        if parent_path:
            readme_file.write(f"{heading} {parent_path}/{key}\n\n")
        else:
            readme_file.write(f"{heading} {key}\n\n")

        # 递归调用创建子目录和文件
        if isinstance(value, dict) and value:
            create_directories_and_files(
                current_path, 
                value, 
                readme_file, 
                parent_path + "/" + key if parent_path else key, 
                level + 1
            )
        elif isinstance(value, list) and value:
            for idx, item in enumerate(value):
                if isinstance(item, dict) and item:
                    create_directories_and_files(
                        current_path, 
                        item, 
                        readme_file, 
                        parent_path + "/" + key if parent_path else key, 
                        level + 1
                    )
                else:
                    item = f"{idx:02d}_{item}"
                    file_name = item.replace(" ", "_").replace("/", "_").replace("-", "_") + ".py"
                    file_path = os.path.join(current_path, file_name)
                    with open(file_path, 'w', encoding='utf-8') as file:
                        file.write(f"# {item}\n\n")
                        file.write(f'"""\n\nLecture: {parent_path}/{key}\nContent: {item}\n\n"""\n\n')

                    # 在README中添加文件链接
                    item_clean = item.replace(" ", "_").replace("/", "_").replace("-", "_")
                    parent_clean = parent_path.replace(" ", "_").replace("/", "_").replace("-", "_")
                    key_clean = key.replace(" ", "_").replace("/", "_").replace("-", "_")
                    readme_file.write(f"- [{item}](./{parent_clean}/{key_clean}/{item_clean}.py)\n")
                    
                    
                    file_name = item.replace(" ", "_").replace("/", "_").replace("-", "_") + ".md"
                    file_path = os.path.join(current_path, file_name)
                    with open(file_path, 'w', encoding='utf-8') as file:
                        file.write(f"# {item}\n\n")
                        file.write(f'"""\n\nLecture: {parent_path}/{key}\nContent: {item}\n\n"""\n\n')

                    # 在README中添加文件链接
                    item_clean = item.replace(" ", "_").replace("/", "_").replace("-", "_")
                    parent_clean = parent_path.replace(" ", "_").replace("/", "_").replace("-", "_")
                    key_clean = key.replace(" ", "_").replace("/", "_").replace("-", "_")
                    readme_file.write(f"- [{item}](./{parent_clean}/{key_clean}/{item_clean}.md)\n")
        else:
            # 创建文件并写入初始内容
            file_name = key.replace(" ", "_").replace("/", "_").replace("-", "_") + ".py"
            file_path = os.path.join(current_path, file_name)
            with open(file_path, 'w', encoding='utf-8') as file:
                file.write(f"# {key}\n\n")
                file.write(f'"""\n\nLecture: {parent_path}/{key}\nContent: {key}\n\n"""\n\n')

            # 在README中添加文件链接
            parent_clean = parent_path.replace(" ", "_").replace("/", "_").replace("-", "_")
            key_clean = key.replace(" ", "_").replace("/", "_").replace("-", "_")
            readme_file.write(f"- [{key}](./{parent_clean}/{key_clean}/{file_name})\n")
            
            
            file_name = key.replace(" ", "_").replace("/", "_").replace("-", "_") + ".md"
            file_path = os.path.join(current_path, file_name)
            with open(file_path, 'w', encoding='utf-8') as file:
                file.write(f"# {key}\n\n")
                file.write(f'"""\n\nLecture: {parent_path}/{key}\nContent: {key}\n\n"""\n\n')

            # 在README中添加文件链接
            parent_clean = parent_path.replace(" ", "_").replace("/", "_").replace("-", "_")
            key_clean = key.replace(" ", "_").replace("/", "_").replace("-", "_")
            readme_file.write(f"- [{key}](./{parent_clean}/{key_clean}/{file_name})\n")

        # 添加空行以分隔不同的章节
        readme_file.write("\n")

def main():
    root_dir = './'
    # 创建根目录
    os.makedirs(root_dir, exist_ok=True)

    # 创建 README.md 文件
    with open(os.path.join(root_dir, "README.md"), 'w', encoding='utf-8') as readme_file:
        readme_file.write("# Artificial intelligence-A Modern Approach\n\n")
        readme_file.write("这是一个关于Artificial intelligence-A Modern Approach的目录结构。\n\n")
        create_directories_and_files(root_dir, structure, readme_file)

    print("目录和文件结构已生成，并创建 README.md 文件。")

if __name__ == "__main__":
    main()